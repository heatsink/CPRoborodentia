ARM GAS  /tmp/cc5qnnOf.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.syntax unified
  16              		.file	"main.c"
  17              		.section	.text.SystemClock_Config,"ax",%progbits
  18              		.align	2
  19              		.global	SystemClock_Config
  20              		.thumb
  21              		.thumb_func
  23              	SystemClock_Config:
  24              		@ args = 0, pretend = 0, frame = 80
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26 0000 70B5     		push	{r4, r5, r6, lr}
  27 0002 94B0     		sub	sp, sp, #80
  28 0004 0022     		movs	r2, #0
  29 0006 2949     		ldr	r1, .L13
  30 0008 0092     		str	r2, [sp]
  31 000a 086C     		ldr	r0, [r1, #64]
  32 000c 284B     		ldr	r3, .L13+4
  33 000e 40F08050 		orr	r0, r0, #268435456
  34 0012 0864     		str	r0, [r1, #64]
  35 0014 096C     		ldr	r1, [r1, #64]
  36 0016 01F08051 		and	r1, r1, #268435456
  37 001a 0091     		str	r1, [sp]
  38 001c 0099     		ldr	r1, [sp]
  39 001e 0192     		str	r2, [sp, #4]
  40 0020 1968     		ldr	r1, [r3]
  41 0022 41F44041 		orr	r1, r1, #49152
  42 0026 1960     		str	r1, [r3]
  43 0028 1B68     		ldr	r3, [r3]
  44 002a 0E92     		str	r2, [sp, #56]
  45 002c 03F44043 		and	r3, r3, #49152
  46 0030 0224     		movs	r4, #2
  47 0032 0193     		str	r3, [sp, #4]
  48 0034 0125     		movs	r5, #1
  49 0036 1021     		movs	r1, #16
  50 0038 0822     		movs	r2, #8
  51 003a B423     		movs	r3, #180
  52 003c 07A8     		add	r0, sp, #28
  53 003e 019E     		ldr	r6, [sp, #4]
  54 0040 0794     		str	r4, [sp, #28]
  55 0042 0D94     		str	r4, [sp, #52]
  56 0044 1194     		str	r4, [sp, #68]
  57 0046 1294     		str	r4, [sp, #72]
  58 0048 1394     		str	r4, [sp, #76]
ARM GAS  /tmp/cc5qnnOf.s 			page 2


  59 004a 0A95     		str	r5, [sp, #40]
  60 004c 0B91     		str	r1, [sp, #44]
  61 004e 0F92     		str	r2, [sp, #60]
  62 0050 1093     		str	r3, [sp, #64]
  63 0052 FFF7FEFF 		bl	HAL_RCC_OscConfig
  64 0056 00B1     		cbz	r0, .L2
  65              	.L8:
  66 0058 FEE7     		b	.L8
  67              	.L2:
  68 005a FFF7FEFF 		bl	HAL_PWREx_EnableOverDrive
  69 005e 0346     		mov	r3, r0
  70 0060 00B1     		cbz	r0, .L4
  71              	.L9:
  72 0062 FEE7     		b	.L9
  73              	.L4:
  74 0064 4FF48052 		mov	r2, #4096
  75 0068 0F26     		movs	r6, #15
  76 006a 4FF4A055 		mov	r5, #5120
  77 006e 0521     		movs	r1, #5
  78 0070 02A8     		add	r0, sp, #8
  79 0072 0394     		str	r4, [sp, #12]
  80 0074 0493     		str	r3, [sp, #16]
  81 0076 0296     		str	r6, [sp, #8]
  82 0078 0595     		str	r5, [sp, #20]
  83 007a 0692     		str	r2, [sp, #24]
  84 007c FFF7FEFF 		bl	HAL_RCC_ClockConfig
  85 0080 0446     		mov	r4, r0
  86 0082 00B1     		cbz	r0, .L6
  87              	.L10:
  88 0084 FEE7     		b	.L10
  89              	.L6:
  90 0086 FFF7FEFF 		bl	HAL_RCC_GetHCLKFreq
  91 008a 0A4B     		ldr	r3, .L13+8
  92 008c A3FB0030 		umull	r3, r0, r3, r0
  93 0090 8009     		lsrs	r0, r0, #6
  94 0092 FFF7FEFF 		bl	HAL_SYSTICK_Config
  95 0096 0420     		movs	r0, #4
  96 0098 FFF7FEFF 		bl	HAL_SYSTICK_CLKSourceConfig
  97 009c 2246     		mov	r2, r4
  98 009e 2146     		mov	r1, r4
  99 00a0 4FF0FF30 		mov	r0, #-1
 100 00a4 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 101 00a8 14B0     		add	sp, sp, #80
 102              		@ sp needed
 103 00aa 70BD     		pop	{r4, r5, r6, pc}
 104              	.L14:
 105              		.align	2
 106              	.L13:
 107 00ac 00380240 		.word	1073887232
 108 00b0 00700040 		.word	1073770496
 109 00b4 D34D6210 		.word	274877907
 111              		.section	.text.startup.main,"ax",%progbits
 112              		.align	2
 113              		.global	main
 114              		.thumb
 115              		.thumb_func
 117              	main:
ARM GAS  /tmp/cc5qnnOf.s 			page 3


 118              		@ Volatile: function does not return.
 119              		@ args = 0, pretend = 0, frame = 56
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121 0000 00B5     		push	{lr}
 122 0002 8FB0     		sub	sp, sp, #60
 123 0004 0025     		movs	r5, #0
 124 0006 FFF7FEFF 		bl	HAL_Init
 125 000a FFF7FEFF 		bl	SystemClock_Config
 126 000e 674B     		ldr	r3, .L39
 127 0010 0195     		str	r5, [sp, #4]
 128 0012 1A6B     		ldr	r2, [r3, #48]
 129 0014 6648     		ldr	r0, .L39+4
 130 0016 674C     		ldr	r4, .L39+8
 131 0018 42F00402 		orr	r2, r2, #4
 132 001c 1A63     		str	r2, [r3, #48]
 133 001e 1A6B     		ldr	r2, [r3, #48]
 134 0020 02F00402 		and	r2, r2, #4
 135 0024 0192     		str	r2, [sp, #4]
 136 0026 019A     		ldr	r2, [sp, #4]
 137 0028 0295     		str	r5, [sp, #8]
 138 002a 1A6B     		ldr	r2, [r3, #48]
 139 002c 42F08002 		orr	r2, r2, #128
 140 0030 1A63     		str	r2, [r3, #48]
 141 0032 1A6B     		ldr	r2, [r3, #48]
 142 0034 02F08002 		and	r2, r2, #128
 143 0038 0292     		str	r2, [sp, #8]
 144 003a 029A     		ldr	r2, [sp, #8]
 145 003c 0395     		str	r5, [sp, #12]
 146 003e 1A6B     		ldr	r2, [r3, #48]
 147 0040 42F00102 		orr	r2, r2, #1
 148 0044 1A63     		str	r2, [r3, #48]
 149 0046 1A6B     		ldr	r2, [r3, #48]
 150 0048 02F00102 		and	r2, r2, #1
 151 004c 0392     		str	r2, [sp, #12]
 152 004e 039A     		ldr	r2, [sp, #12]
 153 0050 0495     		str	r5, [sp, #16]
 154 0052 1A6B     		ldr	r2, [r3, #48]
 155 0054 42F00202 		orr	r2, r2, #2
 156 0058 1A63     		str	r2, [r3, #48]
 157 005a 1B6B     		ldr	r3, [r3, #48]
 158 005c 03F00203 		and	r3, r3, #2
 159 0060 0493     		str	r3, [sp, #16]
 160 0062 2A46     		mov	r2, r5
 161 0064 2021     		movs	r1, #32
 162 0066 049B     		ldr	r3, [sp, #16]
 163 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
 164 006c 2A46     		mov	r2, r5
 165 006e 4FF44071 		mov	r1, #768
 166 0072 5148     		ldr	r0, .L39+12
 167 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 168 0078 4FF40052 		mov	r2, #8192
 169 007c 4F4B     		ldr	r3, .L39+16
 170 007e 4E48     		ldr	r0, .L39+12
 171 0080 0792     		str	r2, [sp, #28]
 172 0082 07A9     		add	r1, sp, #28
 173 0084 0893     		str	r3, [sp, #32]
 174 0086 0126     		movs	r6, #1
ARM GAS  /tmp/cc5qnnOf.s 			page 4


 175 0088 0995     		str	r5, [sp, #36]
 176 008a FFF7FEFF 		bl	HAL_GPIO_Init
 177 008e 2023     		movs	r3, #32
 178 0090 07A9     		add	r1, sp, #28
 179 0092 4748     		ldr	r0, .L39+4
 180 0094 0793     		str	r3, [sp, #28]
 181 0096 0995     		str	r5, [sp, #36]
 182 0098 0A95     		str	r5, [sp, #40]
 183 009a 0896     		str	r6, [sp, #32]
 184 009c FFF7FEFF 		bl	HAL_GPIO_Init
 185 00a0 4FF44073 		mov	r3, #768
 186 00a4 07A9     		add	r1, sp, #28
 187 00a6 4448     		ldr	r0, .L39+12
 188 00a8 0793     		str	r3, [sp, #28]
 189 00aa 0896     		str	r6, [sp, #32]
 190 00ac 0995     		str	r5, [sp, #36]
 191 00ae 0A95     		str	r5, [sp, #40]
 192 00b0 FFF7FEFF 		bl	HAL_GPIO_Init
 193 00b4 2A46     		mov	r2, r5
 194 00b6 2946     		mov	r1, r5
 195 00b8 2820     		movs	r0, #40
 196 00ba FFF7FEFF 		bl	HAL_NVIC_SetPriority
 197 00be 2820     		movs	r0, #40
 198 00c0 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 199 00c4 3E49     		ldr	r1, .L39+20
 200 00c6 A560     		str	r5, [r4, #8]
 201 00c8 B422     		movs	r2, #180
 202 00ca 6423     		movs	r3, #100
 203 00cc 2046     		mov	r0, r4
 204 00ce 2561     		str	r5, [r4, #16]
 205 00d0 84E80600 		stmia	r4, {r1, r2}
 206 00d4 E360     		str	r3, [r4, #12]
 207 00d6 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 208 00da 00B1     		cbz	r0, .L16
 209              	.L31:
 210 00dc FEE7     		b	.L31
 211              	.L16:
 212 00de 0346     		mov	r3, r0
 213 00e0 05A9     		add	r1, sp, #20
 214 00e2 2046     		mov	r0, r4
 215 00e4 0593     		str	r3, [sp, #20]
 216 00e6 0693     		str	r3, [sp, #24]
 217 00e8 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 218 00ec 0346     		mov	r3, r0
 219 00ee 00B1     		cbz	r0, .L18
 220              	.L32:
 221 00f0 FEE7     		b	.L32
 222              	.L18:
 223 00f2 0246     		mov	r2, r0
 224 00f4 6026     		movs	r6, #96
 225 00f6 3225     		movs	r5, #50
 226 00f8 07A9     		add	r1, sp, #28
 227 00fa 2046     		mov	r0, r4
 228 00fc 0993     		str	r3, [sp, #36]
 229 00fe 0B93     		str	r3, [sp, #44]
 230 0100 0796     		str	r6, [sp, #28]
 231 0102 0895     		str	r5, [sp, #32]
ARM GAS  /tmp/cc5qnnOf.s 			page 5


 232 0104 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 233 0108 00B1     		cbz	r0, .L20
 234              	.L33:
 235 010a FEE7     		b	.L33
 236              	.L20:
 237 010c 0422     		movs	r2, #4
 238 010e 07A9     		add	r1, sp, #28
 239 0110 2046     		mov	r0, r4
 240 0112 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 241 0116 00B1     		cbz	r0, .L22
 242              	.L34:
 243 0118 FEE7     		b	.L34
 244              	.L22:
 245 011a 0822     		movs	r2, #8
 246 011c 07A9     		add	r1, sp, #28
 247 011e 2046     		mov	r0, r4
 248 0120 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 249 0124 00B1     		cbz	r0, .L24
 250              	.L35:
 251 0126 FEE7     		b	.L35
 252              	.L24:
 253 0128 07A9     		add	r1, sp, #28
 254 012a 0C22     		movs	r2, #12
 255 012c 2046     		mov	r0, r4
 256 012e FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 257 0132 0546     		mov	r5, r0
 258 0134 00B1     		cbz	r0, .L26
 259              	.L36:
 260 0136 FEE7     		b	.L36
 261              	.L26:
 262 0138 2046     		mov	r0, r4
 263 013a FFF7FEFF 		bl	HAL_TIM_MspPostInit
 264 013e 2946     		mov	r1, r5
 265 0140 2046     		mov	r0, r4
 266 0142 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 267 0146 0421     		movs	r1, #4
 268 0148 2046     		mov	r0, r4
 269 014a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 270 014e 0821     		movs	r1, #8
 271 0150 2046     		mov	r0, r4
 272 0152 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 273 0156 0C21     		movs	r1, #12
 274 0158 2046     		mov	r0, r4
 275 015a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 276 015e 194E     		ldr	r6, .L39+24
 277 0160 194D     		ldr	r5, .L39+28
 278              	.L30:
 279 0162 1548     		ldr	r0, .L39+12
 280 0164 0122     		movs	r2, #1
 281 0166 4FF48071 		mov	r1, #256
 282 016a FFF7FEFF 		bl	HAL_GPIO_WritePin
 283 016e 0122     		movs	r2, #1
 284 0170 4FF40071 		mov	r1, #512
 285 0174 1048     		ldr	r0, .L39+12
 286 0176 FFF7FEFF 		bl	HAL_GPIO_WritePin
 287 017a 2021     		movs	r1, #32
 288 017c 0C48     		ldr	r0, .L39+4
ARM GAS  /tmp/cc5qnnOf.s 			page 6


 289 017e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 290 0182 2268     		ldr	r2, [r4]
 291 0184 516B     		ldr	r1, [r2, #52]
 292 0186 89B2     		uxth	r1, r1
 293 0188 01F10A03 		add	r3, r1, #10
 294 018c 6329     		cmp	r1, #99
 295 018e 9BB2     		uxth	r3, r3
 296 0190 88BF     		it	hi
 297 0192 0A23     		movhi	r3, #10
 298 0194 5363     		str	r3, [r2, #52]
 299 0196 4FF47A70 		mov	r0, #1000
 300 019a 9363     		str	r3, [r2, #56]
 301 019c D363     		str	r3, [r2, #60]
 302 019e 1364     		str	r3, [r2, #64]
 303 01a0 3180     		strh	r1, [r6]	@ movhi
 304 01a2 2B80     		strh	r3, [r5]	@ movhi
 305 01a4 FFF7FEFF 		bl	HAL_Delay
 306 01a8 DBE7     		b	.L30
 307              	.L40:
 308 01aa 00BF     		.align	2
 309              	.L39:
 310 01ac 00380240 		.word	1073887232
 311 01b0 00000240 		.word	1073872896
 312 01b4 00000000 		.word	htim4
 313 01b8 00080240 		.word	1073874944
 314 01bc 00002110 		.word	270598144
 315 01c0 00080040 		.word	1073743872
 316 01c4 00000000 		.word	oldDutyCycle
 317 01c8 00000000 		.word	newDutyCycle
 319              		.section	.text.Error_Handler,"ax",%progbits
 320              		.align	2
 321              		.global	Error_Handler
 322              		.thumb
 323              		.thumb_func
 325              	Error_Handler:
 326              		@ Volatile: function does not return.
 327              		@ args = 0, pretend = 0, frame = 0
 328              		@ frame_needed = 0, uses_anonymous_args = 0
 329              		@ link register save eliminated.
 330              	.L42:
 331 0000 FEE7     		b	.L42
 333              		.comm	newDutyCycle,2,2
 334              		.comm	oldDutyCycle,2,2
 335              		.comm	htim4,60,4
 336 0002 00BF     		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160919 (release) [ARM/embedded-5-bran
ARM GAS  /tmp/cc5qnnOf.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/cc5qnnOf.s:18     .text.SystemClock_Config:00000000 $t
     /tmp/cc5qnnOf.s:23     .text.SystemClock_Config:00000000 SystemClock_Config
     /tmp/cc5qnnOf.s:107    .text.SystemClock_Config:000000ac $d
     /tmp/cc5qnnOf.s:112    .text.startup.main:00000000 $t
     /tmp/cc5qnnOf.s:117    .text.startup.main:00000000 main
     /tmp/cc5qnnOf.s:310    .text.startup.main:000001ac $d
                            *COM*:0000003c htim4
                            *COM*:00000002 oldDutyCycle
                            *COM*:00000002 newDutyCycle
     /tmp/cc5qnnOf.s:320    .text.Error_Handler:00000000 $t
     /tmp/cc5qnnOf.s:325    .text.Error_Handler:00000000 Error_Handler

UNDEFINED SYMBOLS
HAL_RCC_OscConfig
HAL_PWREx_EnableOverDrive
HAL_RCC_ClockConfig
HAL_RCC_GetHCLKFreq
HAL_SYSTICK_Config
HAL_SYSTICK_CLKSourceConfig
HAL_NVIC_SetPriority
HAL_Init
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_NVIC_EnableIRQ
HAL_TIM_PWM_Init
HAL_TIMEx_MasterConfigSynchronization
HAL_TIM_PWM_ConfigChannel
HAL_TIM_MspPostInit
HAL_TIM_PWM_Start
HAL_GPIO_TogglePin
HAL_Delay
